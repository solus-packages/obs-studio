From 8a8cad109d54d496bb0ea9a448d13b7cbbfe471e Mon Sep 17 00:00:00 2001
From: Joshua Strobl <joshua@streambits.io>
Date: Mon, 8 Feb 2021 22:37:17 +0200
Subject: [PATCH 1/1] Revert "Expose new Virtualcam frontend function &
 signals"

This reverts commit 6d7c4304112f1689f3c2e3601dfd3810b24035a2.
---
 README.md              | 3 ---
 browser-client.cpp     | 3 +--
 obs-browser-plugin.cpp | 6 ------
 3 files changed, 1 insertion(+), 11 deletions(-)

diff --git a/README.md b/README.md
index dd2988e..10ef09a 100644
--- a/README.md
+++ b/README.md
@@ -56,8 +56,6 @@ Descriptions for these events can be [found here](https://obsproject.com/docs/re
 * obsReplaybufferSaved
 * obsReplaybufferStopping
 * obsReplaybufferStopped
-* obsVirtualcamStarted
-* obsVirtualcamStopped
 * obsExit
 
 ### Get the current scene
@@ -88,7 +86,6 @@ window.obsstudio.getCurrentScene(function(scene) {
  * @property {boolean} recordingPaused
  * @property {boolean} streaming
  * @property {boolean} replaybuffer
- * @property {boolean} virtualcam
  */
 
 /**
diff --git a/browser-client.cpp b/browser-client.cpp
index e712a26..88deca5 100644
--- a/browser-client.cpp
+++ b/browser-client.cpp
@@ -127,8 +127,7 @@ bool BrowserClient::OnProcessMessageReceived(
 			{"recording", obs_frontend_recording_active()},
 			{"streaming", obs_frontend_streaming_active()},
 			{"recordingPaused", obs_frontend_recording_paused()},
-			{"replaybuffer", obs_frontend_replay_buffer_active()},
-			{"virtualcam", obs_frontend_virtualcam_active()}};
+			{"replaybuffer", obs_frontend_replay_buffer_active()}};
 
 	} else if (name == "saveReplayBuffer") {
 		obs_frontend_replay_buffer_save();
diff --git a/obs-browser-plugin.cpp b/obs-browser-plugin.cpp
index ba5034d..add823b 100644
--- a/obs-browser-plugin.cpp
+++ b/obs-browser-plugin.cpp
@@ -472,12 +472,6 @@ static void handle_obs_frontend_event(enum obs_frontend_event event, void *)
 	case OBS_FRONTEND_EVENT_REPLAY_BUFFER_STOPPED:
 		DispatchJSEvent("obsReplaybufferStopped", "");
 		break;
-	case OBS_FRONTEND_EVENT_VIRTUALCAM_STARTED:
-		DispatchJSEvent("obsVirtualcamStarted", "");
-		break;
-	case OBS_FRONTEND_EVENT_VIRTUALCAM_STOPPED:
-		DispatchJSEvent("obsVirtualcamStopped", "");
-		break;
 	case OBS_FRONTEND_EVENT_SCENE_CHANGED: {
 		OBSSource source = obs_frontend_get_current_scene();
 		obs_source_release(source);
-- 
2.30.0

